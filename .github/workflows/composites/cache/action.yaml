name: cache
description: cache
runs:
  using: "composite"
  steps:

    - uses: Wandalen/wretry.action@master
      with:
        attempt_limit: 3
        action: buildjet/cache@v3
        with: |
          path: ~/.m2/repository
          key: ${{ runner.os }}-cache-${{ env.BRANCH_NAME }}-${{ hashFiles('**/pom.xml') }}
          restore-keys: ${{ runner.os }}-cache-${{ env.BRANCH_NAME }}-${{ hashFiles('**/pom.xml') }}

    - name: show path
      shell: bash
      run: ls ~/.m2/repository/org/springframework/cloud/spring-cloud-kubernetes-fabric8-discovery/3.1.0-SNAPSHOT
        
