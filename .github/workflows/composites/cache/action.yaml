name: cache
description: cache
inputs:
  jdk-version:
    description: 'Java version to use in cache key'
    required: true
    default: '17'
runs:
  using: "composite"
  steps:

    - uses: Wandalen/wretry.action@master
      with:
        attempt_limit: 3
        action: buildjet/cache@v3
        with: |
          path: ~/.m2/repository
          key: ${{ runner.os }}-cache-jdk${{ inputs.jdk-version }}-${{ env.BRANCH_NAME }}-${{ hashFiles('**/pom.xml') }}
          restore-keys: ${{ runner.os }}-cache-jdk${{ inputs.jdk-version }}-${{ env.BRANCH_NAME }}-${{ hashFiles('**/pom.xml') }}
        
